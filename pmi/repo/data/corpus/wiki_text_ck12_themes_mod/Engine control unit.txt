An engine control unit (ECU) is a type of electronic control unit that controls a series of actuators on an internal combustion engine to ensure optimal engine performance. It does this by reading values from a multitude of sensors within the engine bay, interpreting the data using multidimensional performance maps (called lookup tables), and adjusting the engine actuators accordingly. Before ECUs, air-fuel mixture, ignition timing, and idle speed were mechanically set and dynamically controlled by mechanical and pneumatic means. Most modern engines use some type of fuel injection to deliver fuel to the cylinders. The ECU determines the amount of fuel to inject based on a number of sensor readings. Oxygen sensors tell the ECU whether the engine is running rich (too much fuel/too little oxygen) or running lean (too much oxygen/too little fuel) as compared to ideal conditions (known as stoichiometric). The throttle position sensors tell the ECU how far the throttle plate is opened when you press the accelerator. The mass air flow sensor measures the amount of air flowing into the engine through the throttle plate. The engine coolant temperature sensor measures whether the engine is warmed up or cool. (If the engine is still cool, additional fuel will be injected.) Air/fuel mixture control of carburetors with computers is designed with a similar principle, but a mixture control solenoid or stopper motor is incorporated in the float bowl of the carburetor. A spark ignition engine requires a spark to initiate combustion in the combustion chamber. An ECU can adjust the exact timing of the spark (called ignition timing) to provide better power and economy. If the ECU detects knock, a condition which is potentially destructive to engines, and determines it to be the result of the ignition timing occurring too early in the compression stroke, it will delay (retard) the timing of the spark to prevent this. Since knock tends to occur more easily at lower rpm, the ECU may send a signal for the automatic transmission to downshift as a first attempt to alleviate knock. Most engine systems have idle speed control built into the ECU. The engine RPM is monitored by the crankshaft position sensor which plays a primary role in the engine timing functions for fuel injection, spark events, and valve timing. Idle speed is controlled by a programmable throttle stop or an idle air bypass control stepper motor. Early carburetor-based systems used a programmable throttle stop using a bidirectional DC motor. Early Throttle body injection (TBI) systems used an idle air control stepper motor. Effective idle speed control must anticipate the engine load at idle. A full authority throttle control system may be used to control idle speed, provide cruise control functions and top speed limitation. Some engines have Variable Valve Timing. In such an engine, the ECU controls the time in the engine cycle at which the valves open. The valves are usually opened sooner at higher speed than at lower speed. This can optimize the flow of air into the cylinder, increasing power and fuel economy. Experimental engines have been made and tested that have no camshaft, but have full electronic control of the intake and exhaust valve opening, valve closing and area of the valve opening. Such engines can be started and run without a starter motor for certain multi-cylinder engines equipped with precision timed electronic ignition and fuel injection. Such a static-start engine would provide the efficiency and pollution-reduction improvements of a mild hybrid-electric drive, but without the expense and complexity of an oversized starter motor. The first production engine of this type was invented ( in 2002) and introduced (in 2009) by Italian automaker Fiat in the Alfa Romeo MiTo. Their Multiair engines use electronic valve control which dramatically improve torque and horsepower, while reducing fuel consumption as much as 15%. Basically, the valves are opened by hydraulic pumps, which are operated by the ECU. The valves can open several times per intake stroke, based on engine load. The ECU then decides how much fuel should be injected to optimize combustion. At steady load conditions, the valve opens, fuel is injected, and the valve closes. Under a sudden increase in throttle, the valve opens in the same intake stroke and a greater amount of fuel is injected. This allows immediate acceleration. For the next stroke, the ECU calculates engine load at the new, higher RPM, and decides how to open the valve: early or late, wide-open or half-open. The optimal opening and timing are always reached and combustion is as precise as possible. This, of course, is impossible with a normal camshaft, which opens the valve for the whole intake period, and always to full lift. The elimination of cams, lifters, rockers, and timing set reduces not only weight and bulk, but also friction. A significant portion of the power that an engine actually produces is used up just driving the valve train, compressing all those valve springs thousands of times a minute. Once more fully developed, electronic valve operation will yield even more benefits. Cylinder deactivation, for instance, could be made much more fuel efficient if the intake valve could be opened on every downstroke and the exhaust valve opened on every upstroke of the deactivated cylinder or "dead hole". Another even more significant advancement will be the elimination of the convention throttle. When a car is run at part throttle, this interruption in the airflow causes excess vacuum, which causes the engine to use up valuable energy acting as a vacuum pump. BMW attempted to get around this on their V-10 powered M5, which had individual throttle butterflies for each cylinder, placed just before the intake valves. With electronic valve operation, it will be possible to control engine speed by regulating valve lift. At part throttle, when less air and gas are needed, the valve lift would not be as great. Full throttle is achieved when the gas pedal is depressed, sending an electronic signal to the ECU, which in turn regulates the lift of each valve event, and opens it all the way up. A special category of ECUs are those which are programmable. These units do not have a fixed behaviour and can be reprogrammed by the user. Programmable ECUs are required where significant aftermarket modifications have been made to a vehicle's engine. Examples include adding or changing of a turbocharger, adding or changing of an intercooler, changing of the exhaust system or a conversion to run on alternative fuel. As a consequence of these changes, the old ECU may not provide appropriate control for the new configuration. In these situations, a programmable ECU can be wired in. These can be programmed/mapped with a laptop connected using a serial or USB cable, while the engine is running. The programmable ECU may control the amount of fuel to be injected into each cylinder. This varies depending on the engine's RPM and the position of the accelerator pedal (or the manifold air pressure). The engine tuner can adjust this by bringing up a spreadsheet-like page on the laptop where each cell represents an intersection between a specific RPM value and an accelerator pedal position (or the throttle position, as it is called). In this cell a number corresponding to the amount of fuel to be injected is entered. This spreadsheet is often referred to as a fuel table or fuel map. By modifying these values while monitoring the exhausts using a wide band lambda probe to see if the engine runs rich or lean, the tuner can find the optimal amount of fuel to inject to the engine at every different combination of RPM and throttle position. This process is often carried out at a dynamometer, giving the tuner a controlled environment to work in. An engine dynamometer gives a more precise calibration for racing applications. Tuners often utilize a chassis dynamometer for street and other high performance applications. Other parameters that are often mappable are: Ignition Timing: Defines at what point in the engine cycle the spark plug should fire for each cylinder. Modern systems allow for individual trim on each cylinder for per-cylinder optimization of the ignition timing. Rev. limit: Defines the maximum RPM that the engine is allowed to reach. After this fuel and/or ignition is cut. Some vehicles have a "soft" cut-off before the "hard" cut-off. This "soft cut" generally functions by retarding ignition timing to reduce power output and thereby slow the acceleration rate just before the "hard cut" is hit. Water temperature correction: Allows for additional fuel to be added when the engine is cold, such as in a winter cold-start scenario or when the engine is dangerously hot, to allow for additional cylinder cooling (though not in a very efficient manner, as an emergency only). Transient fueling: Tells the ECU to add a specific amount of fuel when throttle is applied. This is referred to as "acceleration enrichment". Low fuel pressure modifier: Tells the ECU to increase the injector fire time to compensate for an increase or loss of fuel pressure. Closed loop lambda: Lets the ECU monitor a permanently installed lambda probe and modify the fueling to achieve the targeted air/fuel ratio desired. This is often the stoichiometric (ideal) air fuel ratio, which on traditional petrol (gasoline) powered vehicles this air:fuel ratio is 14.7:1. This can also be a much richer ratio for when the engine is under high load, or possibly a leaner ratio for when the engine is operating under low load cruise conditions for maximum fuel efficiency. Some of the more advanced standalone/race ECUs include functionality such as launch control, operating as a rev limiter while the car is at the starting line to keep the engine revs in a 'sweet spot', waiting for the clutch to be released to launch the car as quickly and efficiently as possible. Other examples of advanced functions are: Wastegate control: Controls the behavior of a turbocharger's wastegate, controlling boost. This can be mapped to command a specific duty cycle on the valve, or can use a PID based closed-loop control algorithm. Staged injection: Allows for an additional injector per cylinder, used to get a finer fuel injection control and atomization over a wide RPM range. An example being the use of small injectors for smooth idle and low load conditions, and a second, larger set of injectors that are 'staged in' at higher loads, such as when the turbo boost climbs above a set point. Variable cam timing: Allows for control variable intake and exhaust cams (VVT), mapping the exact advance/retard curve positioning the camshafts for maximum benefit at all load/rpm positions in the map. This functionality is often used to optimize power output at high load/rpms, and to maximize fuel efficiency and emissions as lower loads/rpms. Gear control: Tells the ECU to cut ignition during (sequential gearbox) upshifts or blip the throttle during downshifts. Anti-lag: Is an option which is provided by racing ECUs only for turbocharged vehicles. When it is on, it changes the ignition timing to late, providing a fast charge of the turbocharger. When anti-lag is on, gunshot sounds and flames come from the exhaust, indicating extreme temperatures and pressures. A race ECU is often equipped with a data logger recording all sensors for later analysis using special software in a PC. This can be useful to track down engine stalls, misfires or other undesired behaviors during a race by downloading the log data and looking for anomalies after the event. The data logger usually has a capacity between 0.5 and 16 megabytes. In order to communicate with the driver, a race ECU can often be connected to a "data stack", which is a simple dash board presenting the driver with the current RPM, speed and other basic engine data. These race stacks, which are almost always digital, talk to the ECU using one of several proprietary protocols running over RS232 or CANbus, connecting to the DLC connector (Data Link Connector) usually located on the underside of the dash, inline with the steering wheel One of the earliest attempts to use such a unitized and automated device to manage multiple engine control functions simultaneously was the "Kommandogert" created by BMW in 1939, for their 801 14-cylinder aviation radial engine. This device replaced the 6 controls used to initiate hard acceleration with one control in the 801 series-equipped aircraft. However, it had some problems: it would surge the engine, making close formation flying of the Fw 190 (Focke-Wulf Fw 190 Wurger),a single-engine single-seat German fighter aircraft, somewhat difficult, and at first it switched supercharger gears harshly and at random, which could throw the aircraft into an extremely dangerous stall. Hybrid digital/analog designs were popular in the mid-1980s. This used analog techniques to measure and process input parameters from the engine, then used a lookup table stored in a digital ROM chip to yield precomputed output values. Later systems compute these outputs dynamically. The ROM type of system is amenable to tuning if one knows the system well. The disadvantage of such systems is that the precomputed values are only optimal for an idealised, new engine. As the engine wears, the system is less able to compensate than a CPU based system. Modern ECUs use a microprocessor which can process the inputs from the engine sensors in real-time. An electronic control unit contains the hardware and software (firmware). The hardware consists of electronic components on a printed circuit board (PCB), ceramic substrate or a thin laminate substrate. The main component on this circuit board is a microcontroller chip (CPU). The software is stored in the microcontroller or other chips on the PCB, typically in EPROMs or flash memory so the CPU can be re-programmed by uploading updated code or replacing chips. This is also referred to as an (electronic) Engine Management System (EMS). Sophisticated engine management systems receive inputs from other sources, and control other parts of the engine; for instance, some variable valve timing systems are electronically controlled, and turbocharger wastegates can also be managed. They also may communicate with transmission control units or directly interface electronically controlled automatic transmissions, traction control systems, and the like. The Controller Area Network or CAN bus automotive network is often used to achieve communication between these devices. Modern ECUs sometimes include features such as cruise control, transmission control, anti-skid brake control, and anti-theft control, etc. General Motors'(GM) first ECUs had a small application of hybrid digital ECUs as a pilot program in 1979, but by 1980, all active programs were using microprocessor based systems. Due to the large ramp up of volume of ECUs that were produced to meet the Clean Air Act requirements for 1981, only one ECU model could be built for the 1981 model year. The high volume ECU that was installed in GM vehicles from the first high volume year, 1981, onward was a modern microprocessor based system. GM moved rapidly to replace carburation with fuel injection as the preferred method of fuel delivery for vehicles it manufactured. This process first saw fruition in 1980 with fuel injected Cadillac engines, followed by the Pontiac 2.5L I4 "Iron Duke" and the Chevrolet 5.7L V8 L83 "Cross-Fire" engine powering the Chevrolet Corvette in 1982. The 1990 Cadillac Brougham powered by the Oldsmobile 5.0L V8 LV2 engine was the last carbureted passenger car manufactured for sale in the North American market (a 1992 Volkswagen Beetle model powered by a carbureted engine was available for purchase in Mexico but not offered for sale in the United States or Canada) and by 1991 GM was the last of the major US and Japanese automakers to abandon carburation and manufacture all of its passenger cars exclusively with fuel injected engines. In 1988 Delco (GM's electronics division), had produced more than 28,000 ECUs per day, making it the world's largest producer of on-board digital control computers at the time. Such systems are used for many internal combustion engines in other applications. In aeronautical applications, the systems are known as "FADECs" (Full Authority Digital Engine Controls). This kind of electronic control is less common in piston-engined light fixed-wing aircraft and helicopters than in automobiles. This is due to the common configuration of a carbureted engine with a magneto ignition system that does not require electrical power generated by an alternator to run, which is considered a safety advantage. 